/*
 * Copyright (C) 2017 Ignite Realtime Foundation. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package org.ifsoft.llama.openfire;

import java.util.*;
import java.util.concurrent.*;
import java.io.*;
import java.net.*;
import java.nio.charset.*;

import javax.annotation.Nullable;

import org.dom4j.Namespace;
import org.jivesoftware.openfire.*;
import org.jivesoftware.openfire.nio.OfflinePacketDeliverer;
import org.jivesoftware.openfire.session.LocalClientSession;
import org.jivesoftware.openfire.session.LocalSession;
import org.jivesoftware.openfire.session.ClientSession;
import org.jivesoftware.openfire.spi.ConnectionConfiguration;
import org.jivesoftware.openfire.spi.ConnectionManagerImpl;
import org.jivesoftware.openfire.spi.ConnectionType;
import org.jivesoftware.openfire.net.VirtualConnection;
import org.jivesoftware.openfire.auth.UnauthorizedException;
import org.jivesoftware.openfire.auth.AuthToken;
import org.jivesoftware.openfire.auth.AuthFactory;

import org.jivesoftware.util.JiveGlobals;

import org.xmpp.packet.*;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.dom4j.*;
import net.sf.json.*;


public class LLaMAConnection extends VirtualConnection
{
    private static final Logger Log = LoggerFactory.getLogger(LLaMAConnection.class);

    private SessionPacketRouter router;	
    private PacketDeliverer backupDeliverer;
    private ConnectionConfiguration configuration;	
    private ConnectionType connectionType;	
	private String username;
	private AuthToken authToken = null;
    private LocalClientSession session;	
    private ExecutorService exec = Executors.newFixedThreadPool(LLaMA.numThreads);	
	
	private final String domain = XMPPServer.getInstance().getServerInfo().getXMPPDomain();
	private final String hostname = XMPPServer.getInstance().getServerInfo().getHostname();

    public String remoteAddr;	
    public String remoteUrl;	

    public LLaMAConnection(String username, String remoteUrl) {
		this.username = username;
		this.remoteUrl = remoteUrl;
		this.remoteAddr = "llama-" + System.currentTimeMillis();
		
		try {
			
			for (ClientSession sess : SessionManager.getInstance().getSessions(username)) 
			{				
				if (((LocalClientSession) sess).getConnection() instanceof LLaMAConnection) {
					sess.close();
				}
			}	
			
			session = SessionManager.getInstance().createClientSession( this, (Locale) null );
			AuthToken authToken = AuthToken.generateUserToken( username );
			session.setAuthToken(authToken, remoteAddr);	
				
			final String alias = JiveGlobals.getProperty("llama.alias", "LLaMA");			
			final String fullName = JiveGlobals.getProperty("llama.full.name", "Digital Assistant");
			final String avatar = JiveGlobals.getProperty("llama.avatar", "iVBORw0KGgoAAAANSUhEUgAAAu4AAALuCAYAAADxHZPKAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAaspJREFUeNrs3QmcVOWd7/+nN7qbpWlAEGSxEUQUDJsxKom00cQtV8Esau4EcTLT5ibOiPdOMpPMTNSb7Z9k5qIzJjfWJBGYmRidjKD/MYmJSmPcojaLARcEbUUFNUKzN9DLPd/TVdhiL+fUeU7VWT7vvCoF2H26+qnT1d/z1O/5PcYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgDElDAEAPxoaGmqdu/nObZ5zq3Nu9b186LrsbbVza8xkMs2MHpCo14L67M+/XgtmOrfaHj6spYfXghZGDyC4Awj/l/R12dCej0bntsz5pb2U0QRi+zqgi/Ubsq8DtXkeZmn2taCREQUI7gDs/qLWTNoS0/vMul/Nzu1qfmkDsQzsiyweVq8BN/FaABDcAdj5Za3Avjikw6/MBnjeNgei/TpwYza0h2Wpc7ue1wKA4A4gv1/Uegt8lemqWw1Ts3Nb4PzCXseoA5F7Hahz7lYU4HWA1wLAo1KGAMBRv6z1S3ptgX5ZKxisyn5NAOl8Hej+WrCI0Qd6x4w7gO6/rDXT/rLJf9FZvvQW+TnMtgGRCe2rivA6kHM1i9gBgjuA/kN7Icpj+grvE6lzBYr6OlBnumbaa4v8UGZxIQ+8H6UyAHJuKGJoN9mgsIKnASjqxfuKCIR2WZW9iABAcAdw1C/sehNe9xg/6p3HsphnBEjlxfvRF/K385QABHcA7xelX5A3ZGf+AKTv4v3oC/lFPDsAwR3Au7+w9YuxLkIPqTaCAQJIuhsi+riWcCEPENwBvOs6HhOQ6ov3emNvZ+QwLuQX8SwBBHeAX9hdbd+i2EO91nls83mGAC6UuZAHCO4AukQ5HF/K0wOEfvFeF/HXAanjQh4guAMwZh4XFQAX77xWAfFQzhAAqVYf9AAzpk02n7qk3owYVuP+/Z2du82q360xDz2yJuihVS5Tl8lkmnmagGgH4imTxpuLP3amOfGEcUf+7bU33nZfB554eqOtC4zrebqQdsy4AyllY3OTM06bZq656pIjoV30ZwV5/RK3oI5nCoj2xbt+3hdf8+n3hHYZd9xIs/Az57s3G68FdJcBCO5AmgUOxZ/+b73/zldw7x7oCe5A5C7eFYQDhWG94/bRD8/u9wLf0oX8TJ41ENwBIA96a7y6urLfX+oEdyCyAgdhzbZ7oeDe3+sFrwcAwR1AEVn4RQ0golQK4+ddNS7kAYI7AAAogoHVVb4+3kLpHEBwZwgAAAAAgjsAAAAAgjsAAABAcAcAAABAcAcAAABAcAcAAAAI7gAAAAAI7gAAAAAI7gAAAADBHQAAAADBHQAAACC4AwAAACC4AwAAACC4AwAAAAR3AAAAAAR3AAAAAAR3AAAAgOAOAAAAgOAOAAAAgOAOAAAAENwBAAAAENwBAAAAgjsAAAAAgjsAAAAAgjsAAABAcAcAAABAcAeArKsaGhpqGQYgFDcwBADBHQBsqSNcAPY5F8Q3Onf1jARAcAcAmxY7IYOAAdgL7fVcEAMEdwAIy+2UzABWQrt+jlYwEgDBHQDeY8SwGluHqnNuSxhRIDCFdisXwePGjGQ0AYI7gKSYMW2yqa6utHW4RQ0NDfMZVSA/tuvaZ0yfzKACBHcASaHQvvAz59s8JCUzQH6hXYHdWl37lEnjzYknjGNgAYI7gCTRrLtulii0386oAr5Cu9W6dl2QX7PwEgYWILgDSCLNulssmZlPyQzgi7W6dvnCVZfa/HkGQHAHECWUzADFYbuu/eKPnUmJDEBwB5B0lMwABQ/tCuxW69oV3AEQ3AGkgGbdLbaIpGQG6D20U9cOENwBINgv/4WXX2DzkCqZqWNkgfehrh0guANAMKqP/eiHZ9s6HCUzwFGoawcI7gBgjYKAxZKZeieoLGZUAeraAYI7AFgWQsnMDZTMgNBOXTtAcAeAEFAyA1hHXTtAcAeAcFAyA9hBXTtAcAeAUFEyA1gJ7Qrs1LUDBHcACBclM0Cg0E5dO0BwB4DC+dQl9WbccSNtHY6SGaQJde0AwR0ACmvhZ6yWzCxxwvtMRhVJ5pzjSwx17QDBHQAKTTPulutqKZlBkkP7fOfO2jtL1LUDBHcA8EXBwWLJzMxspw0gaaG9zuaFKXXtAMEdAPJiuWTmBkpmkEDUtQMEdwAoPkpmgN5l69qtXYxS1w4Q3AEgcJigZAZ4X2inrh0guANA9KhkxuLb95TMIO6hvc5Q1w4Q3BkCAFEURslMdrMaII6oawdAcAcQXdpRVW/nW6IZ9xsYVcQNde0ACO4AYuFznznf5szgYicE1TOqiFFop64dAMEdQDyMGFZDyQzSGtrrjMW6dv0sUdcOENwBIFSWS2YUhiiZQRxYrWu/hrp2gOAOAIVAyQzSxHZd+6cuqbfZYhUAwR0AekfJDFIU2q3Wtc+YNtl91woAwR0ACoaSGaQgtOu8tFrXvvAz5zOwAMEdAApPi+somUGCUdcOgOAOIBkUQizPIK6gZAZRQF07AII7gMRRza5ulii0386oosihnbp2AAR3AMm00G6XmfnZ4AQUI7TXGeraARDcASRVCCUzdJlBsVDXDoDgDiDZKJlB3FHXDoDgDiA1KJlBjEM7de0ACO4A0oOSGcQ0tNcZ6toBENwBpI3lmUZKZlAI1LUDILgDSKeLP3amO+toiUpmFjOqCAN17QAI7gBSzS2ZufwCm4e8IVvOANgM7dS1A8hbOUMAIClOPGGcG2IeemSNjcPlSmbOSXiQnJn9XutzWdC8W8Ix0/RdztGcveX+/Eru3zKZTCNn5PvGus5Q1w6A4A4AXVQys37jZvPOzt02DlevkhknhN6ckOBYnw3jM7L3Qcs16rK3nr5WLsyvc27rnVsjYZ66dgAEdwA4Ilcys+RHd9k6pEpmVjqhszmGQV3BXKUZ88y7M+qFlAv287PjqH9TeF/t3DSm69JyXlLXDoDgDgA9SHPJTLaG+tJsWI5iW8v67E1BvkUB3rnd44T4lQkO7dS1AyC4A0BvVDKz6aWt5rU33rYSNqNcMhODsN7XRdEi3ZIa4qlrB0BwB4B+dG3MdIH59s3/auuQkSqZyZbBXJUNvknYMKp7iG/Ohvhb4liidBTq2gFYQztIAImlGmDNvFsMlisiENgVbNc6f9RtcUJC+9Hqst/by873uir7jkLsUNcOwDZm3AEkWq7LjKWSmZlOGLsxk8ncWOAAWJsNstclNKj3pd50lSo1O/e3OLelzvi3xCC0U9cOwDpm3AEknkpmLLohW6ZSiPBX59xUH/2yvm4KQ3t3dc5NM9iahV8S5c2xsucHde0ArGPGHUDi5Upm7vvt47YOucIJZ5r9bQyjpWE2lCqoL+LZe5/cuw+LnXFa6tzfFIU6+Oy7It0XCVtDXTsAgjuAVLFcMqNgvSQb2BQatZByWdAQnw1/SwjsnmmcFhUrwGcvsBTStUg4lHdhqGsHQHAHkEqWu8x0D/G5GeC8QnzKa9htB/jrw6yB79bNpz6ssJ6TtLp2SxfNAMEdANIghJKZwCFeXWJMV1lMHc+QlQA/P1vGdLOtAN+tT359oZ6npNW1Hzhw0N1XIaB1nOIguANAHt7ZsSuWj1vB/cWXXjObtmwN+0v1GeKdf6vPBvZ6ziararPjep0zxpp9X5pHUM/Vq88zRdrUKml17bpYVngPqIXTG2lXwhAA6ZQNjquCHEMzgmecNi1+Fx07d7slMxaCRL7hYx2BvWA01grwjf38PNQdFdaLRnXtSSqReeLpjWb5XfcHPo7zHJJZQHBnCIBUh/fOIJ+vGcHrr/lMLBfPPfTIGvOLexs5CdJjZTbAN3c7/2dmL6BCW1zql+rar7nqksQMuuraLa0rWec8d7M4jZF2lMoA6aYQU5fvJ2vG+rZl95ivLf5c7N7W14zmMxu3FKJkJvKGDR/u3iZOmuz+/YTJXfdVVdVmzNixvX7ey1s2u/c7d+xwb9tef93s3Nl1H0GaRa/P1r8Pzf69LkoPMGl17Xpna8ltd9k6HFfZAMEdSD39MlwU9JfzbcvvNYuv+XTsvvnPOSGpiCUzRaNgrpCu+zHHjTVV1dV5HScX9CdO6jnUv7R5sxvin93wh6h867n698jRhW+S6tpzF/UWf7aW8XINUCoDpFq2W8YKG8dSrXtYs4UlT20xpU9uMWbX/iP/1jlljOn8yFTTeezQQMdOQ8mMZtNPmX6qmegEdd0Xg8L7y06Q171m5/FecV0v0pvblt3r7ptgCWUyAMEdQDa87zSWumZYDx+th03pvz9iSt7svYNNxydmm84PTAj0ZW6+7T8SVzKTC+uzP3h6n+UuxaBZ+DVPPUmIL8BFbzHoQlgXxBZdnU93ICCJyhgCIN3mzJmjOol6G8dav3GLmTJpvFura0PpyqdNyat/7Hv2YdM2Y4YONCbAzPuJzmN+ommjaWtrj/3zqaD+iQULzMXzF5gpU082Q2pqIvcY9Zj02OaePc+9qGg73GbefuutVP78aWH35z97samosFe5qgvdkh17jamsMKa8sL/m1UFm5a8esXnIZie0X80rNUBwB9AV3JtNV517lZ3wvtmcNnOqGRiwVlfho/QBb7XRQcO7HuvoUcNN0/oXYvkcanb93PMvMFd+7irzgVmz3b/HxchRx7qPWRcc1dXVZtsbrzsXUG2p+NlTPfsXrrrUjBhu4eJK706tetaU3vO0W1pW8syrpvTxF7t+No4Z0vXzETJ1kLn1J3fbPuyCpqamZl6pAYI7AIfzS7HF5qy7Zq1ffGmrOW3G1ECziKVrm/udbbcZ3hXcRZszxYUWlyqwf+rKz5oJx9eZ8oqKGIfYavf7mXfuee6FhwJ864EDiQ/tEyeMsRPaVVKmn4G2jvf+XOw76Ib4oO9K9UeL1L//gztsv2u1MpPJfJdXaYDgDqAbJ7hrk5orjKVa99179ps3395pTpt5Ut7HcGcN39nr73MChneV+ajeWDOgFeXlzvcQzfprBVyFdYX2qNWv26DvSWU0+j5bdu5IVB187hxTecyxoyy8M+JhHciRn43jjwll5l2dYzTTvsMJ7xbpNUmz7a28QgPdfpYZAgCS3Yxmrc1jqle6doHMR+lv/+CG93zYWLCaCyQq/VHtvsUOGYECu8J6rg1jWqi15IP3/9ptLxk3qmHXpkq6Wd+ozGNoz+l0gnvHf/+w9e/RcgcZ0e7C52QymXW8MgMEdwC9h/dFzt3tNo+Zb6cZtwXkb/Pv/20rvEchxOdq2FUHnmYK8P+1ckVUN3g6QrPqH5g2yQ3rthZqBw3tOe1fm2/1YYTQQcZkQ3sjr8gAwR1A/+F9iXO32NbxVMt7/TWf8T/b6ASTsh/+xr2PSng/OsRveuk19z6sDZy0MZJKRhTa8S61ktQMfFRKaHSOTzlhvBPUu8J66Jso5Rna3Z+JP/mw6ZxwjJWHoQ4yy++63/Z3d70T2m/mLAcI7gC8h3dtymRtak5B5pt/82e+A43bGeO/gs3mhRXeu+s+E28rxKsHu+rY893VNA0U3h99eHVRFrHqXO4qgekK6wUTILRL+5c+bqXOXR1ktOuwZUtp/QgQ3AH4D+5apLrKuc20dUzNuGvmPanh3VaIV1mMAnva6tjzzrFOaFf5jGbhw6ayF4V0lX5Zr1cvQGg3VRWm/X9eHPhhqIOMQrvld5rYHRUguAMIEN5nZsN7ra1j5rtDZNzCe74hXiUxlMXkR3Xv992zwvoCVgV0nbeh1qsXIrQ7Oj8y1XQ4tyB0Hi+57S53xt2iZuc2ywnuLZzJAMEdQP7hvT4b3q1Rlxl1m0lLePcS4tX+8FNXfDaRrR0LTaUzKqEJUj6TK4E50eIuwEUP7ccO7eooUxWs1z8dZACCO4Boh/dFxnKnmWuuuiSvuuC4h/cczVZqYZ8C0MzTz2KW3XbO9Vk+071eXYtMQ19cGtPQHlIHmQVOaF/JWQsQ3AHYC+8K7otsHS/vTjMJCu8dJeVmf+kI01ZSyQkWErWP/MUdP+ux+0yuXv3ESeMKu7g0pqGdDjIAwR1AvMK7NmeytlhVwelriz+X1+xm3MP74ZJqs79shOk0pZxYYWffAweOlM+EuhlSgkO73iFSXbvlxah0kAEI7gBCDO5apKrwXmfrmNqoZvE1n87vxSuG4V1BvbV0qDlYOoQTqsDKOg+ZgR073PvoX21EJ7QrrP/d//djOsgAUXktYwgAeNHU1NQ6Z86c1c4fr3BuVTaOqbZyuuVVquAEE/WjLtm0Le+v736uelrrWCFTacy+spHmcOlATqYi6CwpM4dKB7t/Lu88GN0HGrHQrpn2Hc7PqEXNzu1MvZ5wVgIEdwDhhvftTnh/IRverdDb8CqbGXfcqMSGd5XG7Csb5YZ3FFdbSZX7fJSbQ6bUtBPa+3DHigfNsy802/wO1UHmwkwm08yZCBDcARQmvD/vhHeV2dXbOqbaJE7Jt/VexMO7SmMOlA03VCZGR272vcR0mPKolM5ELLTf99vHzSr7HWSudEJ7I2cgQHAHUNjw3uiE9zpjcbGqWiOeNnOqGZhPK74IhnfVs+8vO+ZIeQaip62k2p2BLzcH3RBPaO+iDjK/+P+t52t1kFnKWQcQ3AEUQbbeXQ3IR1sJUW3t5sWXtprTZkw1FRV5lJREKLzn6tkVChFteq4OlQ5yy2bKOg+nPrSrdO0nP7vP/Xm0SB1kvsrZBhDcARRJdrHqnc4fv2AsLVbdvWe/efPtnea0mSfld4AIhPf2kgFmb9mx1LPHSok5XDLQfe4qOludv3WmMrRrMeq3b/nXMDrIXMg5BhDcAUQjvN+fDe9WvPn2Djc4nHJSXezCu2ZutQiVevZ46iipcEubVPdeatpSF9rpIAMQ3AEkP7yr08wrzh/n2zrmy69uy7/TTJHCu3qzHygdzgkReyXuBZjWKGj2PQ2hXeggAxDcAaQnvK9zwrs2aDrD1jE3vfSamXbSRFMzZFDkw7t2QT1YWsOJkCDtJZXhtI2MYGingwxAcAeQvvB+vxPe1WVmqo3jaXHc0+tfMGefMSO/xaoFCu8K7YdKBnECJJDaRmrDLNW8W2kbGcHQTgcZgOAOIKWy9e5WO808u6k5/04zIYZ3lVJoEapaCiLJStznOPDC1QiGdjrIAAR3ACmWXaz6e9O1s6q1TjO79+43M6ZNzv8glsN7V2gf5YY5pEOghasRDO1hdZBxbleyGBUguAOIT3jfng3vi2wdUzOD1dWVZuKEMUUP7521g83e404ktKdSHgtXIxraQ+ggo8WoszKZTAvnCUBwBxCv8N5su9OMOl6MO26kGT0qQOeWgOG9o7bG7D3jDNM+hIWoaeZ54WoEQ7uE1EHmHDrIAAR3APEN7+o0U+f8caa18L6pOVinmQDhvW30SLPrTz/jhneg34WrEQ3tIXWQ+R9OaP81ZwVAcAcQ7/B+jxPeNetub7HqC83mzNOm5b9YNY/wrtC+e+FlprOqkicV3XQtXG0rqTLl5qDzt45Ih/aQOsjc5IT2mzkXgMIoZQgAhOwc07WDohXv7Nxtblt+b+DjdH5ggun4xGxCO4JfUJZUmj1lo93696iGdq0T+Q/7oV0dZG7kDAAI7gASIrtYbYHpqoO1YtOWrWb5XfeHHt4J7fB8Ljm/TveXjjBtTdsjF9q1GPW2ZfeE0UHmep55oLAolQEQumynmRdMV5tIKzSDOGJYjRl33KhgB+qlbIbQjnwcqptgylp2m/I3/xiJ0C7f/8Ed5s23d9o8JB1kAII7gISH9+ed8F7i/LHe1jHXb9xipkwa7wZ4m+FdYX1Xw5WEduQX3qdO8h3ewwrtemeKDjIAwR0A8gnvjbY7zazfuNmcNnOqGVgdMGRnw7t5dYc70073GAQN77rwG7DllaKF9oceWWN+s+op298aHWQAgjuAtHCC+2rn7gJjsdPMiy9tNafNmBqs04wboIaZPR/8kGmvreWJQvBzc9xo9wJwwAsvFTy064L2Xy2sAzkKHWQAgjuANNF26E54v9P54xecW5WNY+7es9+t4T1t5kn5h3ZTavaWjTLtFdU8SbCmffTIXsN7WKFd6z/UeUkXtRapgwyLUYEio6sMgILLLmo7x+YxNcP4i3sb8/58N7SXDODJgXUHZ5xsWj80syChnQ4yQLIx4w6gKLKdZlQAPN/WMV9+dVtenWb2l41wN9IBwnJ48vFHFqyGFdqFDjIAwR0Awgrv65zwroLyM2wdc9NLr5lpJ000NUMGeQ7th0oG8WQgdG63GdNmSs4/JZTQTgcZgOAOAGGH9/ud8K46gqk2jqe63qfXv2DOPmNGv4tVW0uHmoOlQ3gSULjwXjfBlJZ3mrLOw1aPSwcZIB2ocQcQBVebrjpaK1Tfu+S2u/qs89X29AruQKFph1Wdf7YEXd/RC3WQWcqzBUQLM+4Aii7baeb3pmtnVWudZnbv3W9mTJv8vv92uKTa7C87hoFH0RwuGWjKOw+aUtMW6Dh0kAHShRl3AJHgBAXNuC+wecwnnt7olhB0p84xqmsHim2fc/EYpJMRHWSA9GHGHUBkNDU1NdvuNKPFeuOOG2lGjxpuOkrKzd6yY92e7UDxlZjDpQNNRWerc0b6nzEPqYOMFqNu57kBCO4A4CW8q9NMnfPHmdbC+6Zmc8pJk0xZbZ0b3oEohfe20iozoGOf86dOz58VQgcZOdMJ7c/znADRxbQTgChabfNgKiX44+EhbLCESOow5e4GYF7fCVL5l8rALLs6W64GgOAOAN40NDRopv12m8f81JWfNRMnTWZwEVle116E1EHmZjrIAAR3APAb2rUZ0yqbx5z9wdPdGxB1Xd2Oeg/v6iCjEhnLVtJBBiC4A0A+FNprbR3shMmT3dl2IC60i29PPd5D7CBzNaMOENwBwJeGhoYlxuKC1DFjx5o/ufrzDCxiRxs0afa9O/Vqf2fnbptfRh1kFmQymRZGHCC4A4Cf0L7IuVts63hV1dXmU1d81r0HYhney0YcWUyt8phNW7ba/hJq+9jMSAMEdwDwE9o1y77E5jFVHqMZdyCu1GFGGzQ93vQcHWQAENwBRCK0q559hbFY137x/AXmlOmnMriIPbWJrDpmku3DNju3lYwuQHAHAL8U2utsHUzdY+aePY9RRWKojakuRi3Sz9vtjCwQT+ycCqAoGhoabnTuFtk6nkpjrvzcVaa8ooLBRaJMOL7O7Nyxw2x743Vbh5w6Z86cV7RLMaMLENwBoL/QPt+5+7+2jqdFqH/+xWvNkJoaBheJpNamm1543uzds8fWIeud8H6nE97pKgPECKUyAAod2kPZGXXY8OEMLhJLF6dqb2qxU1KtoWQGiB1m3AEUMrTnFqPW2TrmuedfYD501lwGF4lX7YT2kccea55Zu9bWIevmzJlT0tTU1MjoAvHAjDuAQtIMn7VNltQ9RsEdSAud85YXYN+QfRcMQAyUMwRAH65/QL/Qcq0K68x7Z4pnmJ7bGNb6DKfN2Vtv/+2Vo/6tsdufW8yS82KxwMwJB9pgab6t46k0RiUySbS15aB5defB7J9bzast725zv9X59+5/7+7Rl3d5/hpDq8rN9DGDevlvZe/7b9NHD3I/J2fuRNYTFIu6zLy0ZbPZ9rq1xaq6oJ7FyALRV8IQIMWhvK5bGNft+Oy93+AdFVpktu6owP/uvy05r7GIob3euVtl63i5xahx3GRpV2ub2bBt/5FAvuuA8/ft+30H7yiZO3Ho+wL/3Lquf5s+ZuB7Aj/sUJeZf/7H75vWAwdsHfKmTCZzIyMLENyBYgf0mdlArvsZ3f6cVuuygX519u+NJsSZeye0a7zXGoubLGmmXT3bo2zDtn1uMN+wfZ/7512t7bEN5jYo0Luz/KOdIF9dfmQGn5n7/D274Q/m3376E5uHnMWOqgDBHShkSK/vFtBnpjyg56M5e9Mv71ey9+ucUJ9Xy7jsYtRVNp8H1fda3pDGSkhXQP+De78/1QE9H7mynVyo12z9hGGVZnxtJYPTj/tWrjCPPrza2kW9E9wpmQEI7kCoQf1S51ZPSA9Vy5EQb8x6o1n6Jec1ewjuqp1dZOtBqJf1n33x2kgE9V8+v8MJ6LsJ6SFTGc4EJ8Ar2M+tq+m1Lj/NVDJjsd6dkhmA4A5YDesK6NeZroWOtQxI0Si4r3Ruy3oqs3FCuwK7tT7Rqmv/yt993WYfa1+0YPRHj71hfvXcjl4XhyJ8mp2/6OTh5kLnpnsYN7QrvFs00QnvzYwsQHAHggT2RdnAzsx6NEP8Lc5tqcpqsu3l1tr8An/xv75clMWomlX/3qqtzKxHNMRfc9YYc+WsUakvq1G5jMpmLGl0gvs5nGEAwR3IJ7BrZn2JsbhpD0Kjkppbrtq/8rrKzkOxXoxKYI8XhfevfHR8qgP8j394q3lp82Zrr7xOeL+ZMwsguANeA7uCukot6hmMeBnSuc+ceXCdqWsPXnerwF7Ifu1q1/i9h7aa2x7fxhMZM7kZ+K+cMz6V37/lFpG6CFfJTAtnFhAdZQwBIhraFzn/r/d9pzIY8XOoZIDZUj7BvFNWa8a3b3deaDryOo5KY65u+ELBHrdm2S9f/qx5aDNZJY4OtnW4z6EWDp82bogZNWRAqr7/6upqM6Smxm0TaUGVcxvd1NR0D2cWEB3MuCOKod1qJxKrXlvfLSXsNebtLT1/3Nb13o85fkbv/23cUf+tZrRzOzZWT6dm3z/e+qgZ0eEvDBd6Mapm2P/2ly9HcxB1nul86+k87O6toz6uLyMnOYM8uPf/Vtntv+nP+rcY0ez7ty6qM1fMGpW6l1D1drcU3uWcTCbTyC8mgOAOHB3Yrff89h2Mcve73jRm9/a+Q1IUdA/2uQuA7iFr3IxIPMwBnYfNWYfWmiltzZ4/58+/dK2ZOGlyQR7fX9y92dyx9q3CD8zu7HmWu2/tdjH4to8QXmjdg333C4Dc+XZ08C+ib1000Vxz5phUvZSqVOZ73/zftkpmmp3gPpFfUADBHShsaM8Fc912be+6390toCdZLkjlQlbu7wUO9vUHn/QU3rXBkjZaSkxo18Vf7lzTuzF9vVuTJLl3iHQ/9Nh3/17gYK+Fq/982WSTJmueetL84o6f2Tocvd0BgjsQYmhXSHp7c1c4UlCK8uxlseUCfS5c5f4cUmmEymb6WrRayMWo1kN7LpArqL+VvUhMw4VhvnThqPNv1KTQLybTOPNuscuM6txm0dsdILgDCu5ahDo/cGDa8pgxmx/tCk2EdDtyIV7BSoHKQqhS2cx/a13VY827FqP++RevLUhdu1o9qnuMlfNOF4furDoh3YrczLzKv0ZOejfgB3TrZZNTVfNuucvMUie4X83JCRDcke7QfqPz/zfk/fkKS2vudsLTo4xloUyaa8xk53bKx/M+hBasfvLAb9wQn6Owrk2Whg0PfzfMXz63wyz82fP5H0Az6bnzjovEwl1Ezv6kc/6dlXeI14LVe/50mpk+ZlBqhs3yxkwsVAWKjHaQKGZorzddfdrzC+z3Onn/qZ8bs3MrY1lIGm8F1md/8269vE9qF9lSWmMmtb373F2x8Coz4fi60B+++rTP/+lGt3WgbyrB0nn3yI+7wnv7Ic6HQtm/s+u8e+a/usZd5125v3aPes6ffm2vWfTB0akZNv1MqcPM3j17bByurqmpaRknI0BwR/pCu+raf+Xc/O2uqdnNX36rKzjpFzmKxy0TyQb4UdmSGh8U3I/reNudfT/3/AvMh86aW5CHffny58yLf8yjdOCJ5V2hXeEdxaPQrgt3Bfjh453bBF+f/tbew+57zXMnDk1VeH/y8cesBPc5c+a84oT3dZyIAMEdaXLmwr8xfuvaNcP5H39lzPbnGL+oBfjc7PuYk3196raykebyk6rM/E9/piAPVSUy//S71/1/fz//C2NeaOS5jlqA13OiC6nJ/i76Nmzbby77wDFu6UwaaFMm1blvfeUVG4eb6YT3ZU54b+UkBAjuSIPrH6gzXbui+gzt/8uY/TsYv6hqfsp3iFLJzCc+embBao61K+qu1nZ/592/fYFZ9ijTc6R3fk46x3PpjEpmdjvnwUUnD0/NMGnW/fePP2ba2tqCHkrvkh50gjtXskARlDIEKAJ/i1FzoZ1FgNH37P3G3P99X58SuLOLRz9f+5Z5teWg909QWOe8i09413Plg9qAbvVzPsScFn9/Yv4CW4e7rqGhoZYTDyg8ZtxRWF2z7Ut9hSeVKRCe4hWifJTNaAZ8wrDK0Gfd1UXG82y7zrcVX2WmPU605sXnOz5Dq8tTVeuudqsvb9nstokMeh2gW1NT0/2ceEBhMeOOQlvk66Pv/TqhPY4af+hrZ1DVnodJx/c12974f9Oxs2nS6B0fH61hf77mrdQN0cWXWpt1X9zQ0FDHSQcQ3JFsV3n+SHXxIDyF7itf+1vzx737e73N/cjZ+Yd3H8FabRrD8nM/u6OqY8mzTCSGTedVX+edzsu8qFTL48W+LubCvmiMGs26a3diS27gTAYI7kiq6x9QF5k6Tx+rt7y1wQ3iSwHYx+znr0IKUFv9hjOfNfqIGIX2tXcX/byLMtW6W9qdeBGz7gDBHcl1qeePfHw5JTJJ4OPiK6yZz0df3uX9g9XWcvd2nrcknHceXz98nR8JodA+9+x5tg63hBMOILgjmeo9fVRuYx/En2bdPZY7Pfry7lAegq8LgjX/yXOWBO5riLcNh1Quk6buMjna9GzYcCvtMOc3NDTUc9IBBHckyfUPzDRey2T0C5fZ9uTweBGmGvcwApTnCwJdYLCmIjk2e7/4/8O2fakcIoV3S6h1BwjuSJiZnj9yIwsD0xqgXt1pN7hvcAKZ50WvnHepvGB0z5Pt6QzuWqR6wuTJNg5Vz6w7QHBHsszw9FGaaVd5BZLDxyz2o812640fbfZRfuOxtAIx4vG1ZOvOg6kdImbdAYI70BNvM+6E9lQHKNte3dnq7QPVxYhFqcnjcQOtV1vSG9wnTprMrDtAcAfyDO7UGKfaBsu1xhu27/f2gW9vZvATGdy5GPPC4qz7VYwmQHBHMtR6+qi3CO429be5kpeNbu751a8DH8PrjPuu1nar37/n+nYuGK3qb3Ml3XRehX3uml3eZtzT2BKyO826W9qUib7uAMEdsdfVUcYbusnAIs8z+B4DHmKGGXfPqHUHCO5ATq3nj6TGHQQ8oODU051Zd4DgDgAAYoBZd4DgDgAAYsDirLt2U61lRAGCOwAACImlWXeF9sWMJkBwBwAAIbE4634downYV84QAMm19dVXzKO/+12fHzPh+Alm/ITje/3vG555xuzatavfrwPk7NrV0u95N3ToUDP9Ax/o85x69ZVXOe+KYO7Z88yap54MepjahoaGRZlMZikjChDcAXhwx7/9m3vri3ph99UP+2//+itOCHuYwYRnuti79MLz+w6HHzm7z17uOm+/9+1vMZhFMGbsWHc31Zc2B96YTLPuBHfAIkplEC01oxkDACgyS7XuMxsaGuoZTYDgjjhZcl6j9+B+LOMFa4ZWeXxTceQkBouJAHSj3VQ1627BVYwmQHAHQIDq1/Qxg7x9YNVgnqNEXrkda/c8SRk2ZAII7kDfmPlMaHD3FqDmTqwpzuOrJLinOt9Xsdyrt+CuLjM2wjujCRDcES+Nnj6KmU9YNKG2kgtGIICzzp5n4zCUywAEdyQSNanJVKQZ7fHDKhn7NOOCLLA5HzzdVFVXBz1MnVpDMpoAwR3xsc5bcGdxapoDlOcZco88l0CMm8FzlOILxqKVaMWAQvscO7XuzLoDFlDYh0LZZTPgwZ7+NmnSZjqFMr62yurxpo/2sehQIe/gXk6IQr0g9LNJk5XNlVi7YIXKZR59eHXQw9RrkWomk2lmRAGCO6LP24w7v2gLzssmTYEUcTZ7aFWZ9w/WReNr6zkhCsTLJk2BFemdnqTRAtVTpp9qnt3wh6CH0oZM1zOiQP4olUGheJ+2pWwhtWyXLPhq88e7PcniYxLA9js9STT7dCvlMvMZSYDgjjjwtQkTC1QTZXxxL8Q8h/ehnHeJ4uNCzNc7MymlGXcLrSG1SJXwDhDcERPN3n6LskA1UTwvEBwaypenJWRK+ZgAYAMmbyy1hryUkQQI7khScKdUJlk8BuKwZj09hzKCe7J4nACgvt27OfZ2Uq1lNAGCO6LPW1sCAlQqg3tYs56eO8vonQHKtJLD4wTA+GHUt3ul1pAqmbGAchmA4I4Y8N5ZhvCeDArCHktlfLVu9OFUPxcEvNuTugtGerj7Y2mR6nWMJEBwR1KCu/tLdzKjlaLwJGGVLIx3jut5I6ZRXDCm7YKRUhl/LC1Sname7owmQHBHlC05r9l4bQs5npnPRPARhMNcIOj52My4p+6CMax3epIe3i2gXAYguCMGvM26E6CSwePzGFZHmXeP77EcQoGPTcDiz8eFPx1l/LPUXeYqRhIguCP6vC1QrTmWhYIpCu7TRw8MN7jXDbX+mMEFY1qpVGbM2LFBD0O5DEBwRww0EqAIT0c7NeRZz+ljfFwYUKYVbz4Wt4d9wZhkc+3MurNIFSC4I9L87KA6+SzGK858BOCwZz61ONVzScSkuTx3KblgZMY9f9S5AwR3pIe38M6Me7x5DMDq6jG+AJ095tZ5rHOnTCveJnu/8KIVZP4s9XSva2homMloAgR3RNs9nj5Kb3kT3uPJR7lCoWY9Lzp5hI+LDt7tiS2v6yrGDPLeJhQ9OuVUK7Pu9YwkQHBHtDV6/sjJlC3E0qTozXrq63gOatPO5zmMI10s6h0TL+dDHbPtgYO7nXIZussABHdE2pLz1BKy2XYARIT4WJ9QyDpjX20hKZeJHx8XXNS3B2epXIbuMgDBHTHQ6OmjNHs2kt0sY0VlMh4vuFSuML6AO1dedLKPHR8pl4kfHxf6vs4F9MpSuQyLVAGCOyLuHs8fOfuTjBbhyYoL/Xw9ymXixUeZDKHdYnC3Uy5zKSMJENwRZUvOW+n8f4u3IMjMZ6xM+7j34D61sAFKNe6eSyQol4nZeef9Qovgbo+lcpn6hoaGWkYTILgj2lZ6+iiVXpzC7GcsKOh67OqhNpDF2G7+ylkjvX/w7Mt4TuPiFO8XjBcS3O0OPd1lAII7UsF7uYyPWVwUkY+gW6zw5OvrnsJ5F4/keH7XBb4Hmm2nDaTl4adcBiC4IwW6ymWaPX2sZnEpW4jBb3DvQfcLZx1XlIeo0Oa5VIJ3e+LBT3kWs+3WqVzmhMmTgx6GBaoAwR0xsNLzR1K2EPHQ7n3Ws9DdZAKFN97tiTYf5Vm6aKNMJhwnB591r2UXVYDgjui7xXsw/LjnYIgi8HFh9YUzxxT1oV4xa5T3cgmFQlqSRteZC31dsFEmE9J1+3Tq3AGCO5JvyXnNxmtPd7dsgdnPSPIRbqMy63mFr0WqtCSNJM22+3hNuKbIF4xJNmz4cPcWEHXuAMEdMbCMABVzMZz19FVjr3DIGovo8fEuj8qzitHFKE1stIVkFAGCO6JuyXlLjdee7tpghcWC0aLZdo81xvKVj46PxMNWjb2vbe99XJygAHy+A/cFZttDNzH4AlXT0NDAIlWA4I4Y8F7rToCKFh/Ph4JyMRelHs1X6QRrLKKl/ouenw+9w6N1DQiXpTr3eYwkQHBH9C31/JHMukeH39n2c8ZH6uGrbGeCnwsJhUUUn9/a9rOYbS8UC20h6xlFgOCOqOtapOo9vDPrHg3nf8Xzh6q+eO7Emsh9C75Kd6h1jwYfP/+abWdRauFYaAs5s6GhoZaRBAjuiL6bPH8ks+7FN+uyrufBo6jWGF/od7EsF43FpXd4fM620wKycE6YNNnGYeoZSYDgjqjzO+te/z+oOS4WjbuPAKtylKjWGLszsmf5rHWnr3vx+ChXYra98MaMHevupBoQGzEBBHfEhPdZd4VHdlMtXnjycdH0z5edGOlvR+HO16wste7FoXd5fFw0MdteHBZm3VmgChDcEQt+Z93PWEjNcaH5LFVQJ5ko1rZ353vWXWMwaS7nQiHp55za9liYyAJVgOCOVLnJ10ef/2VGrFA0y+5jQapErZNMb/KadadUq3D0c+5jvL91UR2z7UVio869oaGB8A4Q3BELfmfdmf0sHM14+liQeuWsUZGfbc9RyPPVYUbjQKlWYahExkfbUXUwom978VDnDhDckT6adW/x/NE+Z+OQB10czfIeVH0H4QjQrLuvvu4q1WKharg0vj47+XzrwomMW5Ed54T3gKhzBwjuiI2uWXfvu6kqtLNgMDxuiYy/kiSF9ijtkurVNy/yGfp8lg7B+B9fHxfl2lQrLu/yJNnE4OUyzLgDBHfEzM3OrdnzR2vBJCUz4fj0P/oKTypViOvCwK7gN9T7J+QxIwyPdDHu4x0Nvcvzz5dNZtwiwMIOqnVsxAQQ3BEnS85TqYz/hap0mSlqeJJbF8Q7PH3rwjp/n6CSGR812PByIX6+r9Is93ljQWpkjDlurI3D1DOSAMEd8QrvS53/b/T88ZoVvuQm6t2LGJ5UIqMZ9zjL6x0Dzjt7dKGoDdZ80LskLEiNDi1OHRO8zp1yGYDgjhi62v8vferdixGeFHjj0v7RywWIr4WqCu0+S4pgZxw1y778sycxdhFjYdadBaoAwR2x07VQ1V/JjOrdqTvOn8qN8ghPcS+ROfr78b3jKxeNBQ/torp2SmQiGNyZcQcI7khteL/R+f91vj5Hdccq9YD/8JRH2UcSSmSOpu4kvktmdNFIp5n8aI2Kz/UU2itAC4oRPRZaQtY2NDTUMZIAwR3xpJKZFl+foSBAePcX2jXj6TM8KTh1D7glpsOUdx60eis1bUUZEt8lM4T3PEP7V3x3hdKF4jcvItdFlYWWkMKsO9AN7y0iPpact85c/8D1zp9u9x3e5dn7GcP+aKbdZ2ifMbrC/Mv8kWZw+1tuuC7tDDdgd5SUm3ZTYdpLBpjDJdXufZi66qenmvofrvcf3uX+73FeeQntufHy8byoNIsSmWhTucy2118PGtxXMpJAlzKGALHyxPJ15syFdcbvLMzkucZUDTam+SnGsCeaaT9vse8Zz9qqUnP35ceYSUPb3dCumfaw6WuUOV9Ls/CVnXtNZcce5++HTafz/wr1YRg1ZIAZWl1uHnrR3xs+7kXQKOfW/LQx7Yc4zyyFdvmXz0zx128fRbH1lVfMtjcCBXfT1NS0jJEEulAqgzjSrPs635+ltoa07Os5tKs8Jo/w9JNLh7kz7sWkID+gY58Z3P6mqWl/wwzo3BfK11Ep0JX5tBvUxZDGl/0FrIV2lS9R1x4PLFAFCO5Iu66Nmc4xfuvdcyHqT27zXQ6SWBqHPGra5f+cX2sunVodrRe0zjYzsP2d0AK8upfktQBX4/snP2JnXwsXi7p4SkrL0TRggSpAcAeChfeaY7vCe9rbRWrRbp6h/aqZg8xfnhHddy5yAX5I+3ZT1mm3ROWeP52WX3jPdetJ+7s+2mFWP3957DTLYtT4YYEqQHAHcuF9Xd7hXdQu8vP/nr6t6lWyofCoRbt5BEjNsqtEJg4U2hXeqzp2WTumFkMqvOe9KFKz7p//t/R1O9K5ph73btnQsXmF9kDjjqKhXAaw+HuNIUCsPbF8uzlzodrFXOHcqvIKE9OcADXeCe+73+y6JTk4nX5Ftld2frNgqmf/z8tHmKryklh967mWkodLVdoT/LFXlZeac0+sNSv+8I452JbHgtzyAV0LpnXbsTXZ553oIuWy7+R9kayw3vilGYT2mGKBKmBPCUOARLj+Ac3IrHJutYGO89p6Yx5f3nWfpMA++7KuxbkBSjQU2h+8aqTbSSau1HVmX+kx1lpIbti2z1z6041mV2vAFphvbzFmzd3Ja1mqwK6StDxm2LuH9rzLkxAJjz682ty3ckWQQ7RkMplhjCRAcAfhvWeaAV3zn8Zsecz58/Z4jodq12d/0phJZwWuqU5CaM/pNKVmf9kItwe8DQrtCu8K8YEd3OuE998Ys/H+rjAfRyrF0oWiFp4GPO8I7cnw8pbN5l9+cGvQw0x0wnszowmCO5C88K4NmuzVRCpAbXnUmK3roz8Tr/pplf3oPsAsZ1JDe3etpUPdm63wvvBnL5hHX7ZXS+9ePObOO91H/SJRZT867yx1bCK0J8vX/ufioIdY4AR3NmICwZ0hQALDu2bc9b5sfSjHV3hXmN+1/d1ZUbc+vsAz86oX1uymNvhRWAphkW1uIWrSQnvOodJB5kDpMHcW3oa/uHuzuWPtW+E8WJ1ruuk827q+eOedzrXceadzTn+33CVHYf1fPzvVjK+t5PUsIX78w1vNS5s3BznETU5wv5GRBMEdSG6A14v8DUX52gpYKns4mv4tnxIIBaXcDHoIQaknaveoXu1Jp3r3fWXHmA5jZ+Hjz53g/re/bA5e956PvoJ8Pu8W6TzLzaB3PwdDpI2V1C+fhajJohp31boH0OgE93MYSRDcgWSH93rTVTpTx2B4o9l1zbJHbXOlMGnGfW/ZKGuLVre2HDTX3r3ZbulMCmhHVDZXSqY1Tz1pfnHHz4IcggWqgKEdJJLuieXN5syFaiOmVpFnMCB9m1dXaX7530eaD40bkKrvu8SJ7pWde92uMzbCu2aLtcPn0Opy07R1b34tI1NEpTF3LTzFLDj1GAYjwZ58/LEgn141Z86cZU1NTS2MJNKMDZiQfNpldcl51zt/muXcGhmQ99Ms+08vHe4uQj2+Nr3X89ptdWDHO9aOd82ZY9z+4yr/QM8XOJplb/ziDBahJpyFTZiEjZiQesy4Iz20WdMTy5eZMxe+kv0FUMugGPP1+hrz758cnrpZ9l5fFDsPW92sSeFUM8lzJw51S2h0g3HfkfiXy6dwUZMiagu5c8eOIId4oampqZGRRJpR4470uv6BRaZr8Wpd2r51zbCrhv3r82pSPcPeF9ubNeU8+vJu871VW1Nb/67Arll2OsakDwtUAYI7YCPA1zv/f5VzW5T0b7WuttwsnDnQ/OWHBie2xaNNtjdr6k4z7997aKv55XM7itOBpoD0rsMVs0aaL5x1HIE9xVigChDcAZsBvjYb3hXiE1NLmZtdv+SkqlR1irFJvd4Plg4J7fhqIakAr1uSqAxGtytmjeIkgtn2+uvmn//x+0EPww6qILgD6DHEz3du80zXRk51cXr42u1UHWLmHV9JWLfE9mZNPdHMu0ppVEbzKyfEvxqzevgJtZVuLf/ciTXmQiew04sdR2MHVYDgDhQiyCu4z8ze5mX/tT4KD+342gpTV1vqBvUZx3YF9iiVwXR2dpq2w+1H/t7R3uHeuiurKDMlJV0vRyWlJaa8PJp196p3V7/3zgI15FKQ37Btv3m0eZdzv8/5e3v2vvilNQrl6gQzffRAc6pzr8BOGQz6ww6qAMEdKHaorzXdSms+evD3t+8qHVzX04e+U1prDhlvix1rhw83w4a/23FDAUl9wWVu3VD3/uy6KjOo44+mtLP4QU5hvK2t3bQ7If3wocPvC+z5qBhQbkrLSk1ZWZkpd/5c3i3gF+1CxPJmTUFodv49IX/7vh4/buvOg3nP3msWffywyuw5OCgb2Acym468sEAVCIZXXiAo9YnP9odvaGhQeU2djcP++YJrzcRJk3v97wM695nq9recq+/ibO6joH74UJs5dPCQe9/Z0Wn9a+i473vRqugK8RUDKtxgX+ggr/Ee0r7dXbR6qKS4vcdVktIdrRURdRb6udPLHalGWwnAEie0a+Z9iY1jzf7g6X2G9uqOne5mQYUO7QrrrfsPml3v7DY7395l9u7aZw61Hg4ltPdGs/it+w6aPTv3mh1vtpg9LXvNwQOH3Bn+QtL463kA4CO4Hxc4uNc6r7V1jCTSihl3wB6tugr8C6Wqutqce/4FPf43BfVB7X805Z2tBfumFIgVzlv3twYufQmDHptuZpcxldUDnFulOxNfCJUde9wNm/aVHVOwuncg1sHd3g6qzYwm0ojfNIAF2RmgG2wca+7Z895T255T1nnILdEoVGjX7Pq+PfuPzKxHMbQfTTPvu3fscR9zoWbh9XwMbn/LeTFt4wcB8OCEyZNtBHeA4A4gb1ZKZBTYe5ptVz27Gw4LsAhVgV1BXeFXJSmFLIMJ43s4sLc19ADvXlS1bXfvAfTNQrnMPEYRaUWpDBBQQ0NDvenq+R7Yp6787Pv+TXXUKskIm8Ltvt373ZnqpNBFx/69B8yB/a1m0JCBbilNWFTGpIurqHScASIb3FmgCuSNGXcgOCslMnr7uPuC1FwQLERo16x0rrwkiRTgczPwPXWqsRne1Z6zWJ1+gFgEdxaoAgR3oBiys+31No71ySvenW0vVD27Qqw6xGhWOo4lMX6phEY18OpEE1b5jMqZBhexTScQ+eBub4EqQHAH4IuV2XbVtecWpBaqnl0LTxVi47Do1DZ1odHs+6GDh0M5vi68aBUJ9I4FqgDBHSio7Fu19UGPo8CuTjJSiP7s2t1Us+xaeJpmeodBveBVQhPG7PuAjn2movMAPyhAD1igChDcgUKzMtt+8fwFprq6siD17Ll2iWmcZe9vTFRGY1sxNskCYhHcWaAKENyBQsnOti8Kehy9XXzqtJMKUs+u0hh3djkFtex+6UKm5Z3d1heuKrQrvAM4KrizQBUguAMFtMjGQRZc8vHQ69lVBqLAnvbSmH7Hybmg0cy77c46Kpcp72TsgfcEdxaoAgR3oBAaGhpqnbvrgh7nQ6edaiaNrgq1lEKhPYwwmmTuRc5+u0G7qmMXAwschQWqAMEdKIRFzq026EE+8bEPhfogc6Gdenb/tBGVArwtKoNi1h14LxaoAgR3oBACz7bPmDbZjBhWQ2iPML1LYTO8M+sOHBXcWaAKENyBMDU0NCxy7uqCHuejH5lNaI9JeLdVZqRZd/V3B5AN7ixQBQjuQMgCz7ZPmTTenHjCuNAeoMo8CO32aNbdVniv7NzDgAK54M4CVYDgDoSloaGh3sYviTPmnBJeaN+zn4WoIYV3bVwVVEUHGzIB3bFAFSC4A2EJvOGS6trPOG1aKA9OgZ2Wj+GxsUmTOgixmyrwLhaoAgR3wLpsHWV90ONc/LEzQ3l8mg3WbDvCoz7ve1r2Bj5O2BttAbEK7ixQBQjuQAgCz7ZXV1eGMtuuxaj72BG1ILR2IOgFEm0hgW7B3c4CVcI7UqOcIQD6lt1waVHQ43z0w+F0ktm/90CkF6M+9uQa57bWbHh+k9n6+jaz4bkXe/y4oTWDzbSpU8z0k08006eeaM46fbYZP3ZM5L4flSMNqBxgKgbk9/KpzjKlps108PIL2Fyguo7RBMEdgLER2jXbHkZwP3yoLXJ17bv27DW/fmC1+dWDD5tfPfCw98/bvTcb8tcc+TcF9wvPO9tcvuBiN8xHhRar1h5TY0pKSvJ74e08aA6V8PILiBaovrR5c5BDzGAUQXAHkHNV0ANowyWF9zACZFRseP5Fk1l2p7lzxX3WjqkZeh1TN83ENyy83A3xxaZFqrpgqh5clWdwb3WC+yB+sgDTVS4TMLhTKoPUoMYd6EO2djLwL4UwFqUe2NsauMuJDZohX7DwS+bc+Quthvb3XRg896L5y69+05x27mWhfh2vVKKU7/jTFhLoFtyDl8vUM4oguAOQwLPtWpCqNpA2KTAe2F/c7iSaDVdg1617eUshvq4C/LkLFrp/LqZ83/FQW0h2UQWywT34AlXDAlUQ3AHI/KAHODOETjKa7S1mF5nM8jvdme9CBvajaQZe4V0lOsWiNQa65YPuMkA2uLODKkBwB4LKzuDUBTnGuONGmhNPGGf1cWm2vZi7o2q2+++/fXMkniMtaL1s4RfdBbHFcmBvfmUvbMQEvMvCDqosUAXBHUi5+qAHCKOTzP69xQt8/3DrTyJRX350eC/mhUS+s+5sxAS8y0K5DDPuILgDKXdp0AOom4xN2mypWLPtmtXOLP95JJ8oXUww6w7EOLizQBUguAP5ym66FOgXgRal2m4BWcye7Ruf2+TObkeVHl+xaMY9nw4zzLoD2eDOAlWA4A4EUB/0ADOmTbL+oFoPFC+4R3EX0yjJp8sPC1SBbHBngSpAcAeK+QtgygnjrT6gQwcPF7Vvu4L7WafPjuwTVuwLi3xKmNQSstS08dMGGBaoAgR3IH/zAv32CGGn1EOtxe/7/Y2vLY5saC92cFd7Tl1c+cWsO9CFBaoAwR3IV32QTz5x0jjrDyifUGjb9Kknmn/6zt9F7smKygVFPhdX1LkD2eDOAlWA4A74ZWOBUxhlMsXccKm7yxdcbJb+4LtmaM3gSDweXUhceO7Z0QjueVxcVXTQWQZwgzsLVAGCO5CHuqAH0MZLVgNhBMpkulNQvnv5D830k08s2mPQhYNCuy4kokIXV357upeYDrfWHUh9cGeBKkBwBwr9wj9l0njrDyifDX7CprKZB1csNw1XXV74C4fzzjZPPbgiUqE9py2vzZiocweEBaoAwR0o6Av/uDF2Z9vVSaaY3WT6842vLjYPrlxekNl3zbKrTGfprd81Q4cMjuR4HD6UR7kMGzEBLhaoAgR3wK/aQMHdcplMW1t75AdMs+8qnQlzBlwXBprhj0o9e+/BPZ8ZdxaoAm5wZ4EqQHAHfAo0YzNi+FCrD6b9cHssBk0z4Ko5//K1fxZKaNeFQVw2gcrnYotZd4AFqgDBHfAv2Iy75VKZfEoviumvrv281faMudAe1dIYWxdbzLoDXTPuVdXVQQ9DcAfBHUiDhoaG2qDHsL3xUnuE69t7HceFl1spm1FNe9xCu+SzJoEFqkCX44KXy7BAFQR3ICUCzdTYrm/PNwRGgcpmgi5YjfIi1L7k8y6JWkKWmjZ+ApF6EycF7izDjDsI7gD6N7C6itDejTrO5EstH886fXaqzh9m3QEWqAIEdyCm2mMe3BW88w3fQUJ/seXbCYg6d4AFqgDBHUDR5LNBk2bb49JBpifaQTUfFR10lgGGDR/OAlWA4A54Uhfkk8PYfCnu1Hddi0z9iOKOqIVQYjrcWncg7VigChDcgdCDu+2OMkkI7uK3XCZtte3dUecOsEAVILgDKJrpU6f4Cu1x7CRjL7hT5w6wQBUguANerAvyye/s3M0I9hjGZ3kP+QFbSMY/uDPjDrBAFSC4A160BPnkHQT3wIYOGZLq71917vRzR9qxQBUguAPxC3GlJan7nv3Mzif2hbmznZMfqccCVYDgDsRKWXkZg5BC1LkDLFAFCO5AyN7ZsYtBgIUXZkplABaoAgR3oD+pWJyaWX6neezJNTzbIakYUB7shZlSGYAFqgDBHegn0GYyLUGPceCAva4gQQNgT/7yq980f//tm833b/0JT3hEaYEqkHYsUAUI7oAXzUE++bVtb9sNcRYXqCq037nivoIP6GNPrk3VCVRWEWxtArunAl1YoAoQ3IFQg/vWN96y+mDKLS1Q/fvv3FyU0O7XhudfjH9wL2NRMWADC1QBgjsQanDfscNunXvQ2VtRYM8su/M9/za0pnC7k776+jbPH7t79974B3e6AQFWsEAVILgD/XklyCfbLpUpLw9W567QrhKZo02fOqVgA7rVR3B/NAGLZsstXGxRLgOwQBUguAP9awzyyZu2bLX6YILMuP/qwYd7DO2F5qeDjT52157Czbqrw47NMVJoLykJvi6hxHTyk4jUY4EqQHAH+tMc9AAvvvSavSBYXpbXAlXVil/31W8UfTDzqVn/9QOrC/b4/uHWH7vvSixY+CUrFwyUyQB2sUAVILgDvcpkMgrugdpC2p5199sWUmH5soVfNLsiUC+ez4LYQrWqVFDPjZFm+s+dvzDw4tgBVQP4IQIsYoEqQHAH+hNoI6b1GzdbfTADKr2HQYVRzbT3F9rHjx1dkGCcT3BXTbxKWMK28blN7/u6uuAJ0n0njN77QJqxQBUguAP9CVSr8dobb1vdiGlAVYXnj130pb82G57rf9a4EHXkKkPJd9Zfm0SF3Rqyp0Wzeryqef+HPGb99TzZqG+XjhJKbgA3uLNAFSC4A/1oDHoAm7PuCoNeZnI1S+11IWjYbRd7akHpl2a/wwzvW1/f3ut/+75z0eF30aqfd0b6De6GmXtAWKAKENyBvgNwJmMhuG+x+pgqqyv7/RgvM+05u/bsCWXsNJOvzZ5sdGrR7LfCe1hlM/21ntTFx7kLFnp+d8LPOyMAvGOBKkBwB/qzMlhw32ze2WlvMya3DKOf7jJ+NlX61QMPWx8wN+jOXxh4pv3o8K6yGXV9ecxij3eFcS/H08WQLh48PT+WymQAvBcLVAGCO9CfwD0JbZfLDKjse0Z36JAhno+n+m4bQVjHUT34aede5s6y+9lsyQ89VoV33dSfPig/LScV3vsbq6qBVda+17aSKn76gG5YoAoQ3IH+rAx6gFW/s7sLaNWgvgPdWafP8nU8lbTks0g11y1m0bV/7QZ21YOHFdh7CvBagKuvq8efTw28Hr/NlpOlZaV0kwHCDO4sUAVc/KYBeqF+7s4LvdpC5v1ir1IZzbrPmDbZzg9seZkbEA8fauvxv087eYqv4+XKQJbe+l0zfuyYfgPzY0+udevCbZas5MttGbnsTvemx37heWc7Fy6z3dvQIYP7DO0qvbF5oTFwcLXV762tpJIfQKCb3ALV1gMHghxGr+XrGE0Q3IHkWmYC1kauemStteAu1U5IPLyj54WlCqwKsH7q1xXeNXs9/eQTzYXnznvPf3vVCbe2SmoKFeJF34vC/PSpU9x+9fpzrqZdY+M3tGvtgC4IeqLZ9spqu5sudfJmKPA+WqD60uZA5YcsUAXBHUg4lcssCXIA7aKqmfcRw2qsPCDNuPc1637huWfntfBUAd5PV5ooy30vthbgXnDUBU13tmfbpb2E3VeBo2mBasDgXs8oIu6Y1gH6oHIZY6Gn+32/fdzq46ruIyxevuDifste4M8VCy7q+QU0hNl2oVQGeD8LC1SpcQfBHUiBZUEPoDp3mzupasa9r8D45Ws/H9nB1EXFP33n78zTD95tNj31W7P0B9/ttQwlCnJ18z0ZVDPQ+tdjth3oJbjbWaBaz0iC4A4kWCaTWerctQQ5hkL7400brT4ulWj01tdds+6q846aL1/7Z25gz70r4Nbkn3u2WbH8B26A99OHvlC+8bXFvV489deeM7/gziZOQE/YQRUguANeLQ16ANutIVWm0Vd99S3f+fvIBGFdRDy4crn5qz7eCVCAf+rBFW6oj9KFxvSp778A0gXT4KGDQvma9HAHescOqiC4A/DilqAHyLWGtKlqYGWv/cMVOBXei0kXDiqLeXDF8h4D8Ps+fkjXx2sGvtjlM7qA6O1CQxdMunAKJ7hT3w70hh1UkXZlDAHQv6amppY5c+boBX9qkOPs2bvfnHHaNKuPrWJAhTnYekg9BN/nxBOONxPGjjGPPbXGHDx4qKCB/S//fKH50f/5hpkzY7rvz1cZzRVOcNZj1wZLu/PYJCpoaNcFRM/jXR5Kbbuovv1gaQ0/cEAvWlsPmGfWrg1yiNHO6/lNjCTiihl3wLvAs+651pBWf4jLSs2gIQP7DKF3L/9hQTrNqCRGgXfTk791Z6v72gjJa4BWTbxm4NWfvhBU095baFeJzJBh4ZUfMdsO9I0Fqkg7ZtwBj5qamprnzJkz3/nj6CDHOdB60OqGTFJeUWY62jtMe1t7j/991DEjTMNVl5sS538bn99kdfbdnR2/7GLzvZv+uqsm3OfurV6/xvyLPubOwo8fN8a8/cd3zFt/3GH1a6g0RxcIH/3IGb1+TM2wIaasPLyXzQOlw01nCS/LQG+qq6vNow+vNm1tbUEOs955PX+C0UQclTAEgHcNDQ2LnLvbg/3iqTTf/Js/c+9t2/XObtN2uL3vj9mz1/z6gdUms/zOvDZcUohWyO3aafXsovWMz+2Eqpu+j3x2d9Vj10y+24Wnnxp8lcdoTUFYOkrKze6y4/ghA/rx4x/eGnQjpqWZTOZqRhIEdyAd4X2nc1cb5BifuqTefPTD9hdfdnZ2mpY/7nZn372G343PbXJCb1fN6IbnN5ldu7vqyRXMhw4Z4v55mvvnwZHuty5bX9/m3ty6+Oz3sWvPHjfYq+5++tQpR74fBXWvFx3qmR9WF5mc1tKh7g1A3x68/9fuLYB1TnCfxUgijsoZAsA31brfEOQAag0ZRnAvKemqwd69Y4/p7Ojs9+NzYTzqgdwrBfHcOwK2DKiqCD20y6HSQfxkAR6wgyrSjMWpgH9Lgx4gjNaQR67Gy8tMzfAhvW7OBB9jWVFWkNB+uKTadDCPAngL7ixQBcEdgFeZTKbZRnhf9cja0B4j4d1OaHfHsCT8MTxUOpgBBzxiB1UQ3AH4tSzoAdQaMqxZd8J7fEK7FqVqxh2Ad+ygCoI7AM8ymUyjc7cu6HF+cW+jOXDgYOjhPaxdPpNIC1GHjqgpSGgXFqQC/rGDKgjuAPwKvCGTat0femRNqA9S4b32mBp3Fhl9qxpUWZCa9hzNth8qYVEq4BcLVEFwB+BLJpNZ6ty1BD3Ofb993Lz2xtuhPlbNHmvmXbPJ6GF8SkvcwN7XDrRhYLYdyDO4s0AVBHcAebjFxkGW3/Xr0B+owrvCqW7Uvb8rV89e6IsaZtuB/LFAFQR3APlYauMgmnHXzHshKKAqqFI601Ua445FeeHHYn/pCH56gABYoAqCOwBfbLWGlEKUzOQoqGoB5sDB6exmosW6CuwqjSnUItTu1EWmraSSHyAgABaoguAOIB832TrQbcvuCbXLzNGqB1eZocfUmIoB6dn8R7PstUX8njudl90DZcP4qQECYoEq0oj3yoGAmpqaWubMmaNp2/qgxzrQetC8+fZOc9rMkwp39V5aaiqrK015RblpO9xmOjs7E/k8KagPVS171YCizLLntJbWmjb6tgOBDRlSY1Y/9GCgYziv3aud1/BmRhNxwYw7YMfNxkKHGdGmTOrvXmgDKivMsJFD3cWrSer7rsCuspgo9LNvK6kyB0uH8NMCWKDFqVqkGhCz7iC4A2mTyWQU2q+2dTz1dn/i6Y1F+V60eDUJAX5AVcWRwB6FUiCVyOwvG84PC2CRhbaQLFAFwR1IaXhf6dw12jre8rvuNy++9FrRvp9cgFfwVQiOA7W5VA27HveQ2sGRqt3fXzbCdJhyflAAm8GdOncQ3AEEoFn3FlsH+9GyewrWaaY3Cr8KwcOPrTWDagZGso2kLiyGDHMe46hat1NM1N4p0Dsod/x8hdn2+uv8hAAWnTCZzjJIFxanAhZlF6qqLcwFNo7X1tZunl7/gpl20kRTM6S4m/VoQacWsFYNrDRV2cWspsSYjo5O1YEUdsbBCeYK6wOHVDsXFYPcBadl5dF8OdO7Jj/99/vMtjdeN08+/ph5ectmtzZ35Khj+YEBAqp2fpZYoAqCO4Ag4f0J5xdBvfPHuqSF9yMhvrTEnXlXYK4eVOWE6AFub/hS599LcmHe4teqcC4SFNSrB1ebQU5YV//5AREO6zl6t+TWn9ztPoc5O3fsMM+sXWvWPPWk+/dRToAvr6jgBwfIg3529LPUeuBAkMOs1+s2owmCO5BSmsFx7hY5t6qkhvfu1FKy3A3XA9wZeQVrzcrr7xUDKtz/pnvNlCvclzn3R9/08foY3aqciwEdR6U5OpbaVarrjYK6gnwcqB//t2/511778itovPj88+b3jz9m9u7Z487AV1fTJhLw6+XNm83bb70V5BDbneB+DyMJgjuQUtmSmRecP15h65i58D561HD3FnUl2YCumXnVyeumIK8Q3tMt9zG6KaDrc4vZbz1oaF9y211mx87dHp7XNrP1lVfMYw+vdmfjqwdaaXEHpIZCu0rQAr5m38ZIguAOpDu8P++E91rnj2fYDO9NTngfMazGjDtuFIMc4dCez6Ji1cHrbf9cCLHQMQNIPF3f50rP8jTaeb2+iZEEwR0gvN9vs949Z/3GLeadnbvNjGmTGeSEhPbuNPP+7IY/HKndPc4J8NTBAz1jgSoI7gCscX4hqHZSJTO1No+rcKhdVk+bMdVdvIni0vOhmnYv5TFeKbRr9l118CoH0Aw8dfDAe7FAFQR3ANY4vwxas4tVFd6rbB5795795ne/fyY2de9JpQuo25bf2+tC1KBUB68yGtXBqxf8kJoa6uCBbligCoI7AJvhfbvtxarvhrquuneFxokTxjD7XmD3/fZxc8fdD76n5WOYFE40u6ibZt+pgwdYoAqCOwD74V2LVV9x/jg/jOO//Oo2N8CPHzvKXbyKcOlC6ac/+6X53RPPFOXrqyxAdfCPPrzanZGnDh5pxgJVENwBhBHe14UZ3g+0HjRPPL3RXbg65YTxzL6HRKUxS277j8CLUG1QaNdM4zPr1rrlM+zIijRigSoI7gDCDO9W20QeTYFSte8q35gyaTyDbuvCKDvLrvKYQpXGeKUZeO3Iqo40J0yezOw7UoUFqiC4AwgzvKtNZJ3zx5lhfQ0Fyxdfes2dgR9YXUnf94AeemSNuwA1CrPsfdEi1k0vPG9mzJpNeEeqsEAVBHcAYYb3e5zwrq1B68P8OiqfUd93Anx+dPFz84/uctcPRG2WvTd79+xxS2dOmX4q7SORGixQBcEdQNjhvTHMmvfeArz+PN4J8NTA90517D9f8aBbFqPxiptcD3hm3pEWLFAFwR1AIcL7ukKF91yA1yzybxqfchexur+t6AHfNTYHDroz67ctu9ftFvOOxc2UikEz71tffcXM/uDpPLlIPBaoguAOoJDhfXU2vFcV6uuqXltBVbPw2vGzZsgg95Y2upBx+7GveKCrJ34MZ9h7o8WqogWrQJKxQBUEdwCFDO/NTni/33R1mxldyK+toKo+8Jpl1iLMN9/e6c4+V1dXuXXxSaRSGL3r8It7G93vWRcxcalh90sLVj8wazb17kg8Fqgi6UoYAiBaGhoa1CrydlOg0pn+aDOnEyeNN+OOG+nWxY8bM9IJgPEK8yp5ee2Nt9xwrtn1TVu2Fvsh3ezc9DwvKtQXVLnMp678LD9gSLQH7/+1ewtgXSaTmcVIguAOwG+Av9G5uyGKj03BXSG+uqrSDfS5gD9i+NCiPq79B1qPtGvUvd5J2OoEdr17ECFXO8FgabeLtMXO7bpskA/Vl//u6+4mTUBSaUH2v/zg1kDHcH4+yUYguAPIK7zXm67Z9zpGI/ZanNsCJxQ09vJcL8oG+NB6+889e565eP4Cngkklurb//fffjXoYc7p7ecUKLZShgCIruwvD71tu5LRiLV1eh77CgOahc++RX9OWM93U7BWeUDkVVVX23hXaSYjiahicSoQcU1NTa3O7c45c+asd/56gSlg1xlYcbMTyBc4z2GLx+e7Oft8LzNd5TN1tp7ztrY2t7sM5TJIMhaoIsmYcQdiwgl/moWd6NyWMhqxkCuNuT7P57vZuV2dfc51jGYbD+qlzZt5ZpBoY8aODXoIZtxBcAdgJby3ZMOcyinWMSKR5V5kZS+2bDzn6kIzy8ZFW9At4YGos7BnAcEdkcXiVCDGGhoa1JFEnWdqGY1IaDZdXWMaQ3zOVzl39fl+vmqAv/6t7/BMIbFYoIokY8YdiLHsTKxKKW4yXaUZKI6W7HMwqwC/7G8JGmpyu6kCScQCVRDcAUQ5vKuU4kYCfNEszQb2G/VcFOD5Dlx+Q7kMkm7McYHr3OcxiiC4AyDAJyuwq45dpTHNBf7agdY3bHv9dZ49JDu4s0AVCUU7SCBhsu0jG53bd+fMmfOK6WonOJqRsRrY1S1mmdcWj7Y5z+tU5+6MfD+/oqLCzP7g6TyTSKySEmPWBNu3oNb5ObtFr6eMJqKknCEAkkub+ihoNjQ0aPZIu3LONyxkzUezc1Nf9ZsLUQ7jwfogn0xLSCSdhVIZ0etmI6MJgjuAQgd4lVaojeTVTohXeL+UEN8vBXTVky+LYHeJwK1AVec+cdJknmUkUm6BasCF2PUEdxDcARQ7xK/MBtJciJ+XDfF1jM6RsH6PjUWgYV6IOc9dS5ALrzdef53gjkTTrHvA4D6DUQTBHUAUQ/z1ThBUcK/PBvn6FAX5Rue2Wvcx69u8zgTo584CVSQ+uI8da57d8Icgh2CBKgjuACIb4ptN18JL3bTRT232F5fCoWaeaoMExQiFdH2fqhFfF/MNVlYHeT5oCYmk0w6qD94f6BB1eh2MyLoWgOAOoM8g35INuu8Jt90Cfe4+Jyp9jxXMX8n+WbPS+j6ai9CyMWyB6txVQqDNmFQLDCQRC1RBcAdAoH830MtKRqRoAoeJbW9Q547kYoEqkogNmAAgvhdQzUGOQVtIJJ2FWXcWqILgDgCwIlC5DHXuSHxwZwdVENwBABGxOsgnv0FnGSScFqgGVJdd1wMQ3AEAgQSacdfi1ID1v0CkWVygChDcAQD5s9HOknIZJFlugWpA9YwkCO4AABsCzbqzEROSjgWqILgDAKKiMVBwf4PgjoQHdxaoguAOAIiI9UE+mZaQSDoWqILgDgCIinVBD0CdO5KMBaoguAMAIiGTySi4twQ5Bm0hkWSWFqgS3EFwBwBYwQJVoA8WZt2PZxRBcAcA2BBoIyZKZZD44M4CVRDcAQAREWjGXZswaTMmIKksLFBlcSoI7gAAKxqDHoC2kEiyqqrqoIdgxh0EdwBAcJlMRotTm4Mcg7aQSDILpTKGlpAguAMAbAlULkOdO5JO3WUCYtYdBHcAgBWBFqjSEhJJd9zYsQwCCO4AgEgINOOuxalapAqgV8y4g+AOAAguk8k0Bj0G5TJIsomT6CwDgjsAIDrYiAkACO4AgBhoDBTcaQkJAAR3AEBBrA/yybSERJJZ6Cozg1EEwR0AYMu6oAegzh1JZaGrDDXuILgDAOzIZDIK7i1BjkFbSAAguAMACoMFqgBAcAcAxECgjZgolQEAgjsAoDACzbhrEyZtxgQAILgDAMLVGPQAtIUEAII7ACBkmUxGi1ObgxyDtpAAQHAHABRGoHIZ6tyRRBY6JrUwiiC4AwBsC7RAlZaQSCILazfWM4oguAMAbAs0466Ao0WqAACCOwAgRJlMpjHoMSiXAQCCOwCgMNiICbB7MUqNOwjuAIBQNAYK7rSEBKxeDAMEdwBAbwItpKMlJJKGRdcguAMAoirw7CB17kgSC11lmHEHwR0AYF8mk1HICFSTywwlksLGmo3s5mYAwR0AEAoWqAKOnTt3FPVnCSC4AwD6E2gjJkplkBTb2DUVBHcAQMQFmiXUJkwW6oKBJAT31YwiCO4AgDA1Bg48tIVEEoL7G8y4g+AOAIiw7GK65iDHoC0k4k7vGundo4CocQfBHQAQukCBgzp3xJ2Nd42ci+BGRhIEdwBA2ALV5tISEnFn4V2jZkYRBHcAQCEEmnG3VGYAFI2Fd40okwHBHQAQPhtv8VMugzizMONORxkQ3AEABcNGTEilZzf8oeg/PwDBHQDgR2Og4E5LSMTUyxa6IrEwFQR3AEAhrQ/yybSERFxZmHEntIPgDgAoqMBv9VPnjrhRiZeFhdX3MJL/j707epGruuMAfqUGkodKstCWItSNWYoNWqKDFhQ0wQeVFpo8FoRmK11KKdT9C5o8i3SDYnFtzJbamIeUbCAB8yCdBCKyYeKmCSEUrZNKtbUPDcSHPvjQ+5udsakx6+6cO3funfl84DJ5mbPk7Dx857e/8zsI7gCUZn5+PoJ70s2PxkJSN+fPLRWxTNNOIrgDUDYHVBkrBbTJXOt+6QXBHYBSJY200ypDnRTUJrNoJxHcARiGpMphhKC4jAnq4OyZQkav629HcAdgKJqpCxgLSR3EF8wi5rfPz8+ruCO4A1C+PITE4dR2yhrGQlIHEdoL+OuQ0I7gDsBQJbXL6HOnDrTJILgDMAqSEo2RkFRdfLksYAJSTJNZsJsI7gAMU1LFPdoPCpjUAQNz9nQh1XZtMgjuAAzX/Px8M3UN7TJUVXypLOJQau53dhPBHYAqcBETI+nNU28UsUy7iC+4ILgDUISkUGIkJFUU1fbz55aKWOqA3URwB6AqLqS82UhIqqiganuMTF2wmwjuAFTFcuoC+typkmjfKqjavti97wAEdwCGLw8mEdyTwomxkFTJyePHilpqv91EcAegahxQZSTEFJmC2rei2t62owjuAFRN0rBrrTJUQdwrcHKxsGq7Q6kI7gBUUlLFPSZ4RGiCYTp75nRRF4I1jYBEcAegqpJDirGQDFO0axU0SSbobUdwB6CaupMz2ilrGAvJMB09criwL7Gq7QjuAFRdUruMPneGJSrtBR6QVm1HcAeg8pIOqBoJyTAU3CKzqNqO4A5AHSRV3ONwakEHA2HNn7kCW2TCrF1FcAeg8oqoNGqXoUwnFo8V2iJjbjuCOwB14iImauH8uaXOU5A4nD1nVxHcAaiTZlJwNxKSEsQXxKOvF9oiM92drASCOwC1cSHlzUZCMmjR1/7KSy8W+mU1D+2LdhbBHYC6WU5dQJ87gw7tBd7SG1X2aTuL4A5A7czPzy93w0zfjIVkUAo+jBocSEVwB6DWHFClcqKnvcDDqCFaZBxIRXAHoNaSLmLSKkMNQrsWGQR3AEZCUsU9LmEqsAeZMXf2zOmiQ3uY1SKD4A7AKGimLmAsJEWIwH5y8VjRyy7koX3B7iK4A1B73XnW7ZQ1jIUkVbTHFDyrPcRfk2btLoI7AKMkqV1GnzupoX0A7TGdvnYXLSG4AzBqkg6oGglJxUJ71g3ty3aYUXO7LQAYe0kBJw6nxiHVLRMTdpI1f2bicqUBjRPd73ZURpWKO8CYy0NOM3UN7TKsVYT1F55/blChPQ6j7rPLCO4AjDIXMTFwly9d7FTa4y80A/oMO4zKSNMqA0Bo5s+OvoO7kZB8iRj1GHPaB/jFc5fDqAjuAIyDCylvNhKSW4nq+muHDg7yrzIR1vcI7QjuAIyL5Akc0ee+dduUneQz0RoTk2MGeLtuhPVdbkZlXOhxByDrjs5LqlgaC8mNojXmtVcPlhHajX1kbKi4A9ATAWhnv292QJXe5+DokcOD/jwI7QjuAIy10ynB3UhI4jKlE4vHBlllF9oR3AEgS+xzj0OIEdg2btpkJ8dM/N4jsA/oFlShHbr0uAPQ00xdwFjI8RMtMTGbvYTQviy0I7gDQNY5oBrVzHbKGsZCjpcI6xHaSzjfILRDplUGgJsD0mS/b9bnPh6iNSbGPMa4xxIs5s+0Oe0guAPw/+KA6u5+32wk5OiL6npcqBRnGkowlwf2WbsOgjsAN0tqRYhKbAS6LRMTdnIEnT1zujOfvQRRXZ/NQ/uCXYf/0eMOwGfyoNRMXUO7zOiJL2RxmVJJob2drfSzC+3wOSruAHxeVN139PvmzkHFB23iqCi5NUY/OwjuAKxDMym4Gwk5MkpsjQnRGjNn10FwB2DtLqS82UjI+uu0xhw6WNbvsp0/e4x6BMEdgPVLDlDR575125SdrKH43f3+1YOd8F4CrTGwDrfZAgA+b2Zm5t/5y+Z+3//93XuyRx59zEbWzJun3ug8JTA1Bvqg4g7AF4mq+85+3/yRee61UnJrTHy2prXGgOAOQDFOpwR3IyHro+TWmIVspdKuNQYEdwAKklQNjdGBEQQ3btpkJyssJsbE5JgSaI0BwR2AAWmmLhBjIR1Qrab4YhWtMSW1NGmNgYK4ORWAm3RbGdopaxgLWU2XL13MXnj+ubJCe8xl3yW0QzFU3AG4lQhbk/2+WZ979ZTcGhNV9kW7DoI7AIMXCW93v29Wca+OIbTGxIVKbTsPgjsA5Uhub4i2jO333mcnh+j8uaXsxOKxsqbGzOWBfdauw2DocQfgC+UBrJkc3C9etJFDEkH96OuHO08JoT1aY/YI7TBYKu4ArCbC+86+g/slwX0YoiXm6JHDZbXGxGdkWmsMCO4ADFfSRUxR6dUuU66SW2P254F9n12HcmiVAWA1yVNBzi8t2cUSDKE1ZpfQDoI7ABXRnb+ddD19VNxjqgmDEy0xr7z0YqfaXoJm/mwt4gwEsD5fsQUArKbRaNyTv+xIWSMqwNvv0y4zCDGXPUY9fnL9ehk/Llpjplut1n/sPJRPxR2AL3M8dYGoBKu6Fyu+DL326sHOpUolaGdaY2DoVNwBWFWr1brSaDT25v/cnBo0Vd2LEa0xv33pxeyDq1fL+HFxzuGpPLRfsfMwXKbKALDW8PZsygJRdX/8iSezLRMTdjNBtMaUVGUPs3lgn7PrUA1aZQBYiwNFLPLHI4ftZJ+G0Bpzv9AO1aJVBoAv1Wq1rjUajTigek/KOtHn/s0778y+9vVv2NR1eP+9d7PfHJjLPvqwlAuVeq0xbTsPgjsANZQH93/mL3tT1/nLlSvZ9x5+JLt9wwabugZvnnqjM5v9008/LePHRWvMrKkxILgDUGN5mGvn4X1n/s/JlHUigH7wt6vZAw8+ZFNXEa0xC6+8XNZs9pjXH1X2RTsPgjsAIyAP7rflL7tT1+mNhrx7asqmfoFea8y/Pv64jB+3kD8/0hoD1XebLQBgPWZmZv6Uv+wsYq2nf/JMtv1eIyJvFK0x8ZQgbsSN1pgFuw71YKoMAOu1v6iFonc7ZpKz8leImM1eUmiP1phdQjvUi1YZANalqF73EP3uf15+J/vu/Q9kmzZtGts9vXzpYrYw/7LWGGBVLmACoB/T+fN+EQt15pMfOpj99Oe/yDaOYXiPuexxqVIJojVm2gFUqC8VdwDWrTvXPc5J7SxivU+uX+9U3u/eNpV99Y47xmIPe60xUW0vQa815m2fXqgvh1MB6NvMzExU3SeLWi8q7lF5j0uaRlmE9ejvj782lGAuZrP7tEL9qbgD0LdGoxE9Hj8rar1ez3tU3UcxvEdQP3XyRKc9poQLlaI1JnrZD/ikguAOwJhrtVr/KLJlphfeoyIdIffb93xnZPYqpudEL7/WGKBfWmUASFbkbPcbRdX96elnsi0TE7Xenzh8GmMetcYAKVTcAUjWaDSOZystMxuLXDcOrZ4/t5TdvmFD9q27Jmu3L3EA9Q+HDmZLb71VVmvMU3lof9knEkaTijsAhZiZmdmRv7wzqPWj+v6D3XuyrdumKr8XUVmPKns8JVXZm/mzJw/t13wSQXAHgLWE9735y6FB/oy7p6ayx594srIBPv5CEG0xUW0vyf48sO/z6QPBHQDWG94jRP5q0D+nSgG+V2GP0F5iYI/qelTZmz51ILgDQL/hParue8v4WXFw9eFHH8u233tf6YdY33/v3ay1tNQJ7CVrZlpjQHAHgLqF957og3/gwYc6N7AOYg58VNb/mof1yxcvdkJ7idX1G83mgX3OJwwEdwCodXjviVtYewE+ni1bJtYV5iOkf/Th3zvhPGawR2CP1yFqZytV9mWfLBDcAWCkwvutRH/8rURQH1IlfTWL+TOtNQYEdwAYdHh/Nn/5tZ3oi9YYoMMFTAAMXKvVervRaFzNVm5X3WhH1qSdP7vy0L5oK4Cg4g5AabqXNB3Ln0m7saqFbKXSrjUGENwBGFp435ytXNK0227c5Fo3sC/YCkBwB6AqAT763uOips12oyOmxUybGgMI7gBUMbxPZivV951jvhX788C+zycCENwBqHqAH9fqezNbaY1RZQcEdwBqE94jtMfIyL1j8N9tZytV9gW/eUBwB6CuAX6yG+BH8fBqHD49kD9zJsYAgjsAoxLgY3TkL7PRqMAL7IDgDsDIB/jJGwJ83Xrg25mWGEBwB2DMAnyE9mif+XFW7Sk0UVGP204POHQKCO4AjHuIn+yG+B9WJMT3wvrxPKwv+g0BgjsA3BziN3fD+2Pd1x0lBfWopp+OwK6yDgjuANBfmO8F+Lu6r5sTAn2zG9QvdMN6W1AHBHcAGHyo7wX51Syb/gIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALf2XwEGAIoQgmRMrZTWAAAAAElFTkSuQmCC");
			
			IQ iq = new IQ();
			iq.setFrom(username + "@" + domain + "/" + remoteAddr);
			iq.setTo(username + "@" + domain);			
			iq.setType(IQ.Type.set);				
				
			Element child = iq.setChildElement("vCard", "vcard-temp");
			child.addElement("FN").setText(fullName);
			child.addElement("NICKNAME").setText(alias);

			Element photo = child.addElement("PHOTO");
			photo.addElement("TYPE").setText("image/png");
			photo.addElement("BINVAL").setText(avatar);

			XMPPServer.getInstance().getIQRouter().route(iq);	
			Log.debug("vcard-temp set for " + username);			

			router = new SessionPacketRouter( session );
			route("<presence />");	
			Log.debug("presence set for " + username);				
			
			Log.info("xmpp session created for " + username);			
		} catch (Exception e) {
			Log.error("XMPPConnection  error", e);
		}		
    }
	
	public void handlePrediction(final String prompt, final JID requestor, final Message.Type chatType, final IQ reply) {
		exec.execute(new Runnable() {
			public void run() {
				long threadId = Thread.currentThread().getId()% LLaMA.numThreads;
	
				final String alias = JiveGlobals.getProperty("llama.alias", "LLaMA");
				/*
					"system_prompt": {
						"prompt": "Transcript of a never ending dialog, where the User interacts with an Assistant.\nThe Assistant is helpful, kind, honest, good at writing, and never fails to answer the User's requests immediately and with precision.\nUser: Recommend a nice restaurant in the area.\nAssistant: I recommend the restaurant \"The Golden Duck\". It is a 5 star restaurant with a great view of the city. The food is delicious and the service is excellent. The prices are reasonable and the portions are generous. The restaurant is located at 123 Main Street, New York, NY 10001. The phone number is (212) 555-1234. The hours are Monday through Friday from 11:00 am to 10:00 pm. The restaurant is closed on Saturdays and Sundays.\nUser: Who is Richard Feynman?\nAssistant: Richard Feynman was an American physicist who is best known for his work in quantum mechanics and particle physics. He was awarded the Nobel Prize in Physics in 1965 for his contributions to the development of quantum electrodynamics. He was a popular lecturer and author, and he wrote several books, including \"Surely You're Joking, Mr. Feynman!\" and \"What Do You Care What Other People Think?\".\nUser:",
						"anti_prompt": "User:",
						"assistant_name": "Assistant:"
					}
				*/	
				
				try {
					JSONObject testData = new JSONObject();						
					double temperature = Double.parseDouble(JiveGlobals.getProperty("llama.temperature", "0.5"));
					double top_p = Double.parseDouble(JiveGlobals.getProperty("llama.top.p.sampling", "0.9"));
					
					JSONObject systemPrompt = new JSONObject();
					systemPrompt.put("prompt", JiveGlobals.getProperty("llama.system.prompt", LLaMA.getSystemPrompt()));
					systemPrompt.put("anti_prompt", "User:");				
					systemPrompt.put("assistant_name", alias);					
					
					testData.put("system_prompt", systemPrompt);
					testData.put("prompt", JiveGlobals.getProperty("llama.prefix.prompt", "[INST]") + prompt + JiveGlobals.getProperty("llama.postfix.prompt", "[/INST]"));				
					testData.put("n_predict", JiveGlobals.getIntProperty("llama.predictions", 256));
					testData.put("stream", true);
					testData.put("cache_prompt", JiveGlobals.getBooleanProperty("llama.cache.prompt", true));				
					testData.put("slot_id", threadId);				
					testData.put("temperature", temperature);
					testData.put("top_k", JiveGlobals.getIntProperty("llama.top.k.sampling", 40));
					testData.put("top_p", top_p);
					
								
					if (reply != null) {
						final String response = getJson("/completion", testData, null, null);					
						reply.setChildElement("response", "urn:xmpp:gen-ai:0").setText(response);	
						XMPPServer.getInstance().getRoutingTable().routePacket(reply.getTo(), reply);					
					} 
					else {
						getJson("/completion", testData, requestor, chatType);	
					}					
				
				} catch (Exception e) {
					Log.error("Unable to run infer prompt", e);
					
					if (reply != null) {
						reply.setError(new PacketError(PacketError.Condition.internal_server_error, PacketError.Type.modify, e.toString()));
					}					
				}				
			}
		});			
	}
	
	public void route(String xml) {
		try {
			router.route(DocumentHelper.parseText(xml).getRootElement());	
		} catch (Exception e) {
			Log.error("xmpp routing failed", e);
		}			
	}
	
	public JID getJid() {
		return session.getAddress();
	}

    @Override	
    public void closeVirtualConnection(@Nullable StreamError streamError) {
		exec.shutdown();
	}	
	
    @Override
    public Optional<String> getTLSProtocolName() {
        return this.session != null ? Optional.of(this.session.getTLSProtocolName()) : Optional.of("unknown");
    }	
	
    @Override
    public Optional<String> getCipherSuiteName() {
        return this.session != null ? Optional.of(this.session.getCipherSuiteName()) : Optional.of("unknown");
    }	

    @Override
    public byte[] getAddress() {
		return remoteAddr.getBytes();
    }

    @Override
    public String getHostAddress() {
		return remoteAddr;
    }

    @Override
    public String getHostName()  {
        return username;
    }

    @Override
    public void systemShutdown() {
		exec.shutdown();
    }

    @Override
    public void deliver(Packet packet) throws UnauthorizedException {	
		final String llamaUser = JiveGlobals.getProperty("llama.username", "llama");
		final String alias = JiveGlobals.getProperty("llama.alias", "LLaMA");		
		
        if (packet instanceof Presence) {		
			Presence presence = (Presence) packet;	
			Log.debug("Incoming Presence " + packet.getFrom() + " " + presence.getType());				
			
			if (presence.getType() == Presence.Type.subscribe) {
				Presence presence1 = new Presence();
				presence1.setTo(packet.getFrom());	
				presence1.setFrom(username + "@" + domain + "/" + remoteAddr);
				presence1.setType(Presence.Type.subscribed);
				XMPPServer.getInstance().getPresenceRouter().route(presence1);	

				Presence presence2 = new Presence();
				presence2.setTo(packet.getFrom());	
				presence2.setFrom(username + "@" + domain + "/" + remoteAddr);
				presence2.setType(Presence.Type.subscribe);
				XMPPServer.getInstance().getPresenceRouter().route(presence2);					
			}
		}
		else

		// auto accept MUC invitations
		
        if (packet instanceof Message) 
		{		
			Message message = (Message) packet;
			String muc = null;			
			/*
				<message from="florence@desktop-545pc5b/converse.js-22447515" id="2446786b-7063-4e7a-84ad-c5d91bd492dd" to="dele@desktop-545pc5b">
					<x xmlns="jabber:x:conference" jid="lobby@conference.desktop-545pc5b" reason="Please join me at CCC"></x>
				</message>
			*/
			
			Element childElement = message.getChildElement("x", "http://jabber.org/protocol/muc#user");

			if (childElement != null) {
				Element inviteElement = childElement.element("invite");

				if (inviteElement != null) {
					muc = packet.getFrom().toString();
				}
			}
			else {
				childElement = message.getChildElement("x", "jabber:x:conference");

				if (childElement != null) {
					muc = childElement.attribute("jid").getStringValue();
				}				
			}
			
			if (muc != null) {
				Log.debug("Auto-accept MUC invitation " + muc);	

				Presence presence = new Presence();
				presence.setTo(muc + "/" + alias);	
				presence.setFrom(username + "@" + domain + "/" + remoteAddr);	
				presence.addChildElement("x", "http://jabber.org/protocol/muc");				
				XMPPServer.getInstance().getPresenceRouter().route(presence);					
			}
			else {						
				Log.debug("Incoming Message " + packet.getFrom() + "\n" + message.getBody());
				String from = packet.getFrom().getNode();
				String nick = packet.getFrom().getResource();				
				String msg = message.getBody();
				
				if (!isNull(msg) && !isNull(from) && nick != null && !nick.equals(alias)) {
					JID requestor = packet.getFrom();
					
					if (message.getType() == Message.Type.groupchat) {
						
						if (msg.toLowerCase().startsWith(llamaUser.toLowerCase())) {
							requestor = new JID(packet.getFrom().toBareJID());
							handlePrediction(msg, requestor, message.getType(), null);							
						}
						
					} else {
						handlePrediction(msg, requestor, message.getType(), null);
					}
				}					
			}
		}
		else 
			
		if (packet instanceof IQ)  {
			IQ iq = (IQ) packet;
			Log.debug("Incoming IQ " + packet.getFrom() + " " + iq.getType());	

			if (iq.getType() != IQ.Type.result) {
				IQ reply = IQ.createResultIQ(iq);
				final Element element = iq.getChildElement();
						
				if (element != null && element.getNamespaceURI().equals("urn:xmpp:gen-ai:0")) {
					handlePrediction(element.getText(), null, null, reply);
					return;
				}				

				XMPPServer.getInstance().getRoutingTable().routePacket(packet.getFrom(), reply);	
			}				
		}
    }

    @Override
    public void deliverRawText(String text) {
		Log.debug("deliverRawText\n" + text);	
    }

    @Override
    public PacketDeliverer getPacketDeliverer() {
        if (backupDeliverer == null) {
            backupDeliverer = new OfflinePacketDeliverer();
        }
        return backupDeliverer;
    }

    @Override
    public ConnectionConfiguration getConfiguration() {
        if (configuration == null) {
            final ConnectionManagerImpl connectionManager = ((ConnectionManagerImpl) XMPPServer.getInstance().getConnectionManager());
            configuration = connectionManager.getListener( connectionType, true ).generateConnectionConfiguration();
        }
        return configuration;
    }

    @Override
    public boolean isCompressed() {
        return false;
    }

	
    //-------------------------------------------------------
    //
    //  Utility methods
    //
    //-------------------------------------------------------	

	private String getJson(String urlToRead, JSONObject data, JID requestor, Message.Type chatType)  {
		URL url;
		HttpURLConnection conn;
		BufferedReader rd;
		String line;
		String accumulator = "";
		StringBuilder result = new StringBuilder();

		String llamaHost = JiveGlobals.getProperty("llama.host", hostname);			
		String username = JiveGlobals.getProperty("llama.username", "llama");
		String password = JiveGlobals.getProperty("llama.password", "llama");		
		String auth = username + ":" + password;
		String authHeaderValue = "Basic " + Base64.getEncoder().encodeToString(auth.getBytes(StandardCharsets.UTF_8));
		String uri = remoteUrl + urlToRead;
		
		Log.info("getJson from LLaMA " + requestor + " " + uri + "\n" + data);
		
		try {
			url = new URL(uri);
			conn = (HttpURLConnection) url.openConnection();
			conn.setRequestProperty("Authorization", authHeaderValue);			

			conn.setDoOutput(true);
			conn.setDoInput(true);
			conn.setUseCaches(false);
			conn.setRequestMethod("POST");  
			conn.setRequestProperty("Content-Type", "application/json;charset=UTF-8");
			conn.setRequestProperty("Connection", "Keep-Alive");
			conn.setRequestProperty("Charset", "UTF-8");
			conn.setRequestProperty("Accept", "text/event-stream");
			
			conn.getOutputStream().write(data.toString().getBytes(StandardCharsets.UTF_8));

			rd = new BufferedReader(new InputStreamReader(conn.getInputStream()));

			if (requestor != null) replyState("active", requestor, chatType);
			long seq = 0;
			
			while ((line = rd.readLine()) != null) {
				Log.debug("getJson - stream\n" + line);				
				
				if (line.startsWith("data:")) {
					JSONObject lineJson = new JSONObject("{" + line + "}").getJSONObject("data");
					
					if (!lineJson.getBoolean("stop")) {	// we got a text stream
						String content = lineJson.getString("content");
						result.append(content);
							
						if (content.equals("\n")) {
							String msg = result.toString();
							Log.info("getJson - chat\n" + msg);	
							result = new StringBuilder();	
							
							if (requestor != null && !isNull(msg)) {
								replyChat(msg, requestor, chatType);
								accumulator = accumulator + msg;
							}
							
						} else {
							
							if (requestor != null) {
								replyState("composing", requestor, chatType);
								replyRtt(content, requestor, chatType, seq);
								seq++;	
							}
						}
					} else {	// end of text stream
						String msg = result.toString();
						Log.info("getJson - chat\n" + msg);
						
						if (requestor != null) {
							replyChat(msg, requestor, chatType);	
							accumulator = accumulator + msg;							
						}
					}		
				}
			}
			rd.close();	
			if (requestor != null) replyState("inactive", requestor, chatType);				

		} catch (Exception e) {
			Log.error("getJson", e);
		}
		return accumulator;
	}

	private void replyState(String state, JID requestor, Message.Type chatType) {
		Log.debug("replyState from LLaMA " + requestor + " " + state);	

		Message newMessage = new Message();
		newMessage.setFrom(username + "@" + domain + "/" + remoteAddr);
		newMessage.setTo(requestor);		
		newMessage.setType(chatType);
        newMessage.addExtension(new PacketExtension(state, "http://jabber.org/protocol/chatstates"));		
		
		XMPPServer.getInstance().getRoutingTable().routePacket(requestor, newMessage);				
	}
	
	private void replyRtt(String msg, JID requestor, Message.Type chatType, long seq) {
		Log.debug("replyRtt from LLaMA " + requestor + " " + msg);	
		
		Message newMessage = new Message();
		newMessage.setFrom(username + "@" + domain + "/" + remoteAddr);
		newMessage.setTo(requestor);		
		newMessage.setType(chatType);

		Element rtt = DocumentHelper.createElement(QName.get("rtt", "urn:xmpp:rtt:0"));
		rtt.addAttribute("seq", String.valueOf(seq));
		if (seq == 0) rtt.addAttribute("event", "new");
		
		Element t = rtt.addElement("t");
		t.setText(msg);
        newMessage.addExtension(new PacketExtension(rtt));		
		
		XMPPServer.getInstance().getRoutingTable().routePacket(requestor, newMessage);	
	}	
	
	private void replyChat(String msg, JID requestor, Message.Type chatType) {
		Log.debug("replyChat from LLaMA " + requestor + "\n" + msg);	

		Message newMessage = new Message();
		newMessage.setFrom(username + "@" + domain + "/" + remoteAddr);
		newMessage.setTo(requestor);		
		newMessage.setType(chatType);
		newMessage.setBody(msg);
        newMessage.addExtension(new PacketExtension("active", "http://jabber.org/protocol/chatstates"));		
		
		XMPPServer.getInstance().getRoutingTable().routePacket(requestor, newMessage);				
	}
	
    private boolean isNull(String value)   {
        return (value == null || "undefined".equals(value)  || "null".equals(value) || "".equals(value.trim()) || "unknown".equals(value) || "none".equals(value));
    }	
}